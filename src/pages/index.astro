---
import Layout from "../layouts/Layout.astro";
import Section from "../components/Section.astro";
import { Image } from "astro:assets";
import { getCollection, getEntry } from "astro:content";
import CustomMarkdown from "../components/CustomMarkdown.astro";
import ProjectList from "../components/ProjectList.astro";

const { Content: About } = await (await getEntry("home", "about")).render();
const { Content: Contact } = await (await getEntry("home", "contact")).render();

const projects = await getCollection("projects");

const gradientLeft =
  "linear-gradient(96deg, rgba(92, 92, 92, 0.43) -15.48%, rgba(0, 0, 0, 0.00) 54.01%)";
const gradientRight =
  "linear-gradient(85deg, rgba(92, 92, 92, 0.20) -24.17%, rgba(0, 0, 0, 0.00) 68.51%)";
---

<Layout title="Home">
  <div class="sm:relative sm:mt-20 h-fit sm:h-[calc(100vh-5rem)]">
    <div
      class="relative sm:absolute sm:right-8 mt-16 sm:m-0 sm:top-20 w-full sm:w-5/12 h-96 mx-auto sm:m-0 max-w-sm sm:max-w-2xl"
    >
      <Image
        src={import("/src/assets/star_illustration.svg")}
        alt="Illustration"
        class="absolute mt-[12%] ml-[2%] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rotate-[24deg] scale-[1.35] w-1/2"
      />
      <Image
        src={import("/src/assets/portrait.png")}
        alt="Portrait"
        class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 saturate-[1.1] w-5/6 scale-95"
      />
    </div>
    <!-- sm:absolute sm:bottom-8 sm:left-10 sm:p-0 px-2 flex flex-col text-5xl sm:text-display-xl font-semibold text-white-30 leading-tighter mt-0 sm:mt-60 -->

    <div
      class="sm:absolute sm:bottom-8 sm:left-10 sm:p-0 px-3 flex flex-col text-5xl sm:text-display-xl font-semibold text-white-30 leading-tighter mt-16 sm:mt-60"
    >
      <span class="text-primary">Felix Blaimauer</span>
      <span class="hover:text-white-70 transition duration-75"
        >Web Dev & Design</span
      >
      <span class="hover:text-white-70 transition duration-75">Game Dev</span>
      <span class="hover:text-white-70 transition duration-75"
        >3D Visual FX</span
      >
    </div>
  </div>

  <Section class="mt-8" name="About">
    <CustomMarkdown
      class="text-2xl sm:text-body-lg leading-tight [&>h2]:font-semibold [&>h2]:text-6xl sm:[&>h2]:text-display-xl [&>h2]:text-primary"
    >
      <About />
    </CustomMarkdown>
  </Section>

  <Section class="mt-14" padding={false} name="Projects">
    <h2
      class="text-6xl sm:text-display-xl text-primary font-semibold leading-tighter px-3 sm:px-10"
    >
      Check out some of my projects
    </h2>
    <div class="mt-8">
      <ProjectList projects={projects.map((it) => it.slug)} />
    </div>
  </Section>

  <Section class="mt-14" name="Contact">
    <CustomMarkdown
      list={false}
      class="text-2xl sm:text-body-lg leading-tight [&>h2]:font-semibold [&>h2]:text-6xl sm:[&>h2]:text-display-xl [&>h2]:text-primary"
    >
      <Contact />
    </CustomMarkdown>
  </Section>
</Layout>
